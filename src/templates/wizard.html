<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bluetext Setup Wizard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: hidden; }
        body {
            font-family: var(--vscode-font-family, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif);
            background: var(--vscode-sideBar-background);
            color: var(--vscode-foreground);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .main-layout { display: flex; flex-direction: column; height: 100vh; position: relative; z-index: 1; }
        
        .sidebar {
            height: 70px;
            background: var(--vscode-activityBar-background);
            display: flex;
            flex-direction: row;
            padding: 8px 20px 8px 8px;
            gap: 8px;
            z-index: 10;
            align-items: center;
            width: 100%;
            border-bottom: none;
        }
        
        .tab-button {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 14px;
            font-weight: 500;
            position: relative;
            overflow: visible;
            justify-content: center;
            white-space: nowrap;
            color: var(--vscode-activityBar-inactiveForeground);
        }
        
        .tab-button:hover {
            transform: translateY(-2px);
            background: transparent;
            color: var(--vscode-activityBar-foreground);
        }
        
        .tab-button.active {
            background: transparent;
            color: var(--vscode-activityBar-foreground);
        }
        
        .tab-button.active:hover {
            transform: translateY(-2px);
        }
        
        .tab-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            padding: 6px;
            flex-shrink: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .tab-icon svg {
            width: 100%;
            height: 100%;
            position: relative;
            z-index: 1;
            fill: currentColor;
        }
        
        .tab-button span {
            color: inherit;
        }
        
        .wizard-panel {
            flex: 1;
            overflow-y: auto;
            background: transparent;
            position: relative; 
            z-index: 1;
        }
        .container { max-width: 100%; width: 100%; height: 100%; margin: 0; padding: 20px 20px; }
        
        .header { margin-bottom: 25px; padding-bottom: 25px; border-bottom: 1px solid var(--vscode-panel-border); }
        .unified-card { 
            background: transparent;
            padding: 0; 
            border-radius: 0; 
            box-shadow: none;
            margin-bottom: 0;
            height: 100%;
        }

        .header-clickable {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.15s ease;
            padding: 4px 0;
            margin: -4px 0;
            border-radius: 4px;
        }
        .header-clickable:hover { background-color: var(--vscode-list-hoverBackground); }
        .header-title-section { flex: 1; }
        h1 { color: var(--vscode-foreground); font-size: 27px; font-weight: 400; margin-bottom: 8px; letter-spacing: 0.4px; text-align: left; }
        .subtitle { color: var(--vscode-descriptionForeground); font-size: 15px; line-height: 1.6; text-align: left; }
        .card-content { max-height: 5000px; overflow: hidden; transition: max-height 0.3s ease; }
        .card-content.collapsed { max-height: 0; }
        .header-arrow { flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: transform 0.2s ease; opacity: 0.6; color: var(--vscode-foreground); }
        .header-arrow.collapsed { transform: rotate(-90deg); }
        .steps-container { position: relative; padding-left: 20px; }
        .step { padding: 8px 0; display: flex; align-items: center; gap: 20px; position: relative; z-index: 1; }
        .step:not(:last-child) { margin-bottom: 4px; padding-bottom: 12px; position: relative; }
        .step:not(:last-child)::after { content: ''; position: absolute; left: 14.5px; top: 44px; height: calc(100% - 36px); width: 3px; background: var(--vscode-panel-border); border-radius: 2px; z-index: 0; transition: background-color 0.3s ease; }
        .step[data-step="1"]::after { background: var(--line-color-1, var(--vscode-panel-border)); }
        .step[data-step="2"]::after { background: var(--line-color-2, var(--vscode-panel-border)); }
        .step[data-step="3"]::after { background: var(--line-color-3, var(--vscode-panel-border)); }
        .step-number-wrapper { position: relative; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .step-number { display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; min-width: 32px; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); border-radius: 50%; font-weight: 700; font-size: 14px; flex-shrink: 0; position: relative; z-index: 2; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); transition: all 0.3s ease; }
        .step-content { flex: 1; display: flex; align-items: center; gap: 15px; }
        .step-text { flex: 1; color: var(--vscode-foreground); font-size: 14px; font-weight: 500; line-height: 1.5; }
        .step-actions { display: flex; gap: 8px; flex-shrink: 0; }
        button { background: var(--vscode-button-background); color: var(--vscode-button-foreground); border: none; padding: 8px 20px; cursor: pointer; border-radius: 5px; font-size: 13px; font-weight: 600; transition: all 0.2s ease; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); white-space: nowrap; }
        button:hover { background: var(--vscode-button-hoverBackground); transform: translateY(-1px); box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); }
        button:active { transform: translateY(0); }
        .checkmark-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 14px;
            height: 14px;
            margin-right: 4px;
            vertical-align: middle;
        }
        
        .checkmark-icon svg {
            width: 100%;
            height: 100%;
            stroke: currentColor;
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
        }
        .docs-section { margin-top: 25px; padding-top: 25px; border-top: 1px solid var(--vscode-panel-border); }
        .docs-section h2 { color: var(--vscode-foreground); font-size: 18px; margin-bottom: 15px; font-weight: 600; }
        .docs-section ul { list-style: none; padding: 0; }
        .docs-section li { margin: 12px 0; padding-left: 25px; position: relative; }
        .docs-section li:before { content: "→"; position: absolute; left: 0; color: var(--vscode-textLink-foreground); font-weight: bold; }
        .docs-section a { color: var(--vscode-textLink-foreground); text-decoration: none; font-weight: 500; transition: color 0.2s ease; }
        .docs-section a:hover { color: var(--vscode-textLink-activeForeground); text-decoration: underline; }
        .quick-start-header-section { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; gap: 20px; }
        .quick-start-text { flex: 1; }
        .quick-start-title { color: var(--vscode-foreground); font-size: 27px; font-weight: 400; margin-bottom: 8px; letter-spacing: 0.4px; text-align: left; }
        .quick-start-subtitle { color: var(--vscode-descriptionForeground); font-size: 15px; line-height: 1.6; }
        .agent-card { background: var(--vscode-editorWidget-background); padding: 16px 20px; border-radius: 6px; margin-bottom: 15px; display: flex; align-items: center; gap: 20px; border: 2px solid var(--vscode-widget-border); border-left: 4px solid var(--vscode-foreground); }
        .agent-card h3 { color: var(--vscode-foreground); font-size: 15px; font-weight: 600; margin: 0; white-space: nowrap; }
        .agent-warning { display: none; background: var(--vscode-inputValidation-warningBackground); border: 1px solid var(--vscode-inputValidation-warningBorder); border-radius: 4px; padding: 12px 16px; margin-top: 12px; font-size: 13px; color: var(--vscode-inputValidation-warningForeground); line-height: 1.5; }
        .agent-warning.show { display: block; }
        .agent-warning strong { color: inherit; }
        .agent-selection { display: flex; gap: 20px; flex: 1; }
        .agent-selection label { display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 13px; font-weight: 500; color: var(--vscode-foreground); white-space: nowrap; }
        .agent-selection input[type="radio"] { cursor: pointer; width: 16px; height: 16px; }
        .quick-start-btn { 
            display: inline-flex; 
            align-items: center; 
            color: var(--vscode-button-foreground); 
            font-size: 13px; 
            padding: 8px 20px; 
            font-weight: 600;
            border: none; 
            cursor: pointer; 
            border-radius: 5px; 
            transition: all 0.2s ease; 
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); 
            white-space: nowrap; 
        }
        .quick-start-btn:hover { background: var(--vscode-button-hoverBackground); transform: translateY(-1px); box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); }
        .quick-start-btn:active { transform: translateY(0); }
        .step-number.pending { background: var(--vscode-badge-background); }
        .step-number.doing { background: var(--vscode-charts-orange, #ffa500); animation: pulse 1.5s ease-in-out infinite; box-shadow: 0 0 20px rgba(255, 165, 0, 0.5); }
        .step-number.done { background: var(--vscode-testing-iconPassed, #28a745); }
        .step-number.error { background: var(--vscode-testing-iconFailed, #dc3545); }
        .steps-container.step-1-pending { --line-color-1: var(--vscode-panel-border); }
        .steps-container.step-1-doing { --line-color-1: var(--vscode-charts-orange, #ffa500); }
        .steps-container.step-1-done { --line-color-1: var(--vscode-testing-iconPassed, #28a745); }
        .steps-container.step-1-error { --line-color-1: var(--vscode-testing-iconFailed, #dc3545); }
        .steps-container.step-2-pending { --line-color-2: var(--vscode-panel-border); }
        .steps-container.step-2-doing { --line-color-2: var(--vscode-charts-orange, #ffa500); }
        .steps-container.step-2-done { --line-color-2: var(--vscode-testing-iconPassed, #28a745); }
        .steps-container.step-2-error { --line-color-2: var(--vscode-testing-iconFailed, #dc3545); }
        .steps-container.step-3-pending { --line-color-3: var(--vscode-panel-border); }
        .steps-container.step-3-doing { --line-color-3: var(--vscode-charts-orange, #ffa500); }
        .steps-container.step-3-done { --line-color-3: var(--vscode-testing-iconPassed, #28a745); }
        .steps-container.step-3-error { --line-color-3: var(--vscode-testing-iconFailed, #dc3545); }
        .steps-container.step-4-pending { --line-color-4: var(--vscode-panel-border); }
        .steps-container.step-4-doing { --line-color-4: var(--vscode-charts-orange, #ffa500); }
        .steps-container.step-4-done { --line-color-4: var(--vscode-testing-iconPassed, #28a745); }
        .steps-container.step-4-error { --line-color-4: var(--vscode-testing-iconFailed, #dc3545); }
        .step.done button {  background: var(--vscode-testing-iconPassed, #28a745); }
        .step.done button:hover { background: var(--vscode-testing-iconPassed, #218838); filter: brightness(0.9); }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        
        .tab-panel {
            display: none;
        }
        
        .tab-panel.active {
            display: block;
        }

        .tab-panel .unified-card {
            box-shadow: none;
            margin-bottom: 0;
        }
        
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--vscode-editorWidget-background);
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--vscode-widget-border);
            color: var(--vscode-foreground);
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--vscode-panel-border);
        }
        
        .modal-title {
            color: var(--vscode-foreground);
            font-size: 22px;
            font-weight: 600;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--vscode-descriptionForeground);
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: background 0.2s ease;
        }
        
        .modal-close:hover {
            background: var(--vscode-toolbar-hoverBackground);
            transform: none;
        }
        
        .param-group {
            margin-bottom: 20px;
        }
        
        .param-label {
            display: block;
            font-weight: 600;
            color: var(--vscode-foreground);
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .param-required {
            color: var(--vscode-errorForeground);
            margin-left: 4px;
        }
        
        .param-description {
            font-size: 12px;
            color: var(--vscode-descriptionForeground);
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .param-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--vscode-input-border);
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s ease;
            background: var(--vscode-input-background);
            color: var(--vscode-input-foreground);
        }
        
        .param-input:focus {
            outline: none;
            border-color: var(--vscode-focusBorder);
        }
        
        .param-input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }
        
        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--vscode-panel-border);
        }
        
        .modal-actions button {
            padding: 10px 24px;
        }
        
        .btn-secondary {
            background: var(--vscode-button-secondaryBackground);
            color: var(--vscode-button-secondaryForeground);
        }
        
        .btn-secondary:hover {
            background: var(--vscode-button-secondaryHoverBackground);
        }
        
        .no-params-message {
            padding: 20px;
            background: var(--vscode-editorWidget-background);
            border-radius: 8px;
            text-align: center;
            color: var(--vscode-descriptionForeground);
            font-size: 14px;
            border: 1px solid var(--vscode-widget-border);
        }
        
        .tool-params-section {
            padding: 16px;
            background: transparent;
            border-top: 1px solid var(--vscode-panel-border);
            display: none;
        }
        
        .tool-params-section.show {
            display: block;
        }
        
        .tool-param-group {
            margin-bottom: 16px;
        }
        
        .tool-param-group:last-child {
            margin-bottom: 0;
        }
        
        .tool-param-label {
            display: block;
            font-weight: 600;
            color: var(--vscode-foreground);
            margin-bottom: 6px;
            font-size: 13px;
        }
        
        .tool-param-required {
            color: var(--vscode-errorForeground);
            margin-left: 4px;
        }
        
        .tool-param-description {
            font-size: 11px;
            color: var(--vscode-descriptionForeground);
            margin-bottom: 6px;
            line-height: 1.4;
        }
        
        .tool-param-input {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid var(--vscode-input-border);
            border-radius: 4px;
            font-size: 13px;
            font-family: inherit;
            transition: border-color 0.2s ease;
            background: var(--vscode-input-background);
            color: var(--vscode-input-foreground);
        }
        
        .tool-param-input:focus {
            outline: none;
            border-color: var(--vscode-focusBorder);
        }
        
        .tool-param-input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }
        
        .tool-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--vscode-panel-border);
        }
        
        .tool-actions button {
            padding: 6px 16px;
            font-size: 12px;
        }
        
        .tool-header-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex: 1;
            gap: 12px;
        }
        
        .tool-run-button-disabled {
            background: var(--vscode-disabledForeground) !important;
            cursor: not-allowed !important;
            opacity: 0.6;
            pointer-events: none;
        }
        
        .tool-info-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--vscode-activityBar-inactiveForeground);
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            margin-left: auto;
        }
    </style>
</head>
<body>
    <div class="main-layout">
        <div class="sidebar">
            <div class="tab-button active" onclick="switchTab('wizard')">
                <div class="tab-icon" style="padding: 3px;">
                    <svg viewBox="0 0 92.796 99.806" xmlns="http://www.w3.org/2000/svg">
                        <path d="m 72.509,32.896 -6.189,-6.522 -64.61,64.609 5.598,7.112 z"/>
                        <path d="M 85.08,8.458 73.354,20.184 79.275,26.424 91.16,14.539 Z"/>
                        <g transform="translate(-50.609,-53.766)">
                            <path d="m 81.272,88.466 c -0.027,-0.725 -2.635,-6.057 -3.807,-7.785 -0.681,-1.004 -1.919,-2.543 -2.752,-3.42 -1.596,-1.681 -4.987,-4.255 -6.49,-4.927 -0.491,-0.219 -0.892,-0.447 -0.891,-0.507 0.001,-0.059 0.535,-0.378 1.186,-0.707 3.392,-1.715 7.479,-5.56 9.605,-9.036 1.1,-1.8 3.127,-6.093 3.133,-6.637 0.002,-0.149 0.092,-0.27 0.202,-0.27 0.109,0 0.199,0.099 0.199,0.22 0,0.56 1.93,4.615 3.125,6.566 2.318,3.784 5.523,6.862 9.301,8.935 l 1.779,0.976 -1.979,1.112 c -3.078,1.73 -5.257,3.569 -7.383,6.23 -1.874,2.345 -2.934,4.259 -4.892,8.829 -0.178,0.416 -0.33,0.605 -0.337,0.42 z"/>
                            <path d="m 117.137,147.303 c -0.023,-0.599 -2.177,-5.005 -3.146,-6.433 -0.563,-0.83 -1.586,-2.101 -2.274,-2.826 -1.319,-1.389 -4.12,-3.516 -5.363,-4.071 -0.406,-0.181 -0.737,-0.37 -0.736,-0.419 0.001,-0.049 0.442,-0.312 0.98,-0.584 2.803,-1.417 6.18,-4.594 7.937,-7.466 0.909,-1.487 2.584,-5.035 2.589,-5.484 0.001,-0.123 0.076,-0.223 0.167,-0.223 0.09,0 0.164,0.082 0.164,0.182 0,0.463 1.595,3.814 2.582,5.425 1.916,3.127 4.564,5.67 7.685,7.383 l 1.47,0.806 -1.635,0.919 c -2.543,1.43 -4.344,2.949 -6.1,5.148 -1.548,1.938 -2.424,3.519 -4.042,7.296 -0.147,0.344 -0.273,0.5 -0.278,0.347 z"/>
                        </g>
                    </svg>
                </div>
                <span>Setup Wizard</span>
            </div>
            
            <div class="tab-button" onclick="switchTab('tools')">
                <div class="tab-icon" style="padding: 3px;">
                    <svg viewBox="0 0 107.688 109.773" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <mask id="wrench-mask">
                                <g transform="translate(-45.471,-18.226)">
                                    <path fill="white" d="m 125.866,18.410 c -10.741,1.436 -19.373,10.067 -20.810,20.808 -0.232,1.737 -0.232,4.595 0,6.331 1.437,10.741 10.068,19.373 20.810,20.810 1.737,0.232 4.595,0.232 6.331,0 10.927,-1.462 19.669,-10.369 20.876,-21.369 0.157,-1.433 0.105,-3.783 -0.194,-5.191 -0.274,-1.292 -2.066,-0.911 -3.771,0.793 l -8.082,8.076 c -0.979,0.979 -2.565,2.622 -3.808,3.216 -0.681,0.325 -1.396,0.535 -2.112,0.620 -1.719,0.206 -4.385,-1.075 -5.972,-1.821 -0.999,-0.470 -3.141,-1.429 -4.468,-2.567 -0.456,-0.391 -0.880,-0.816 -1.270,-1.273 -1.135,-1.329 -2.314,-3.950 -3.057,-5.539 -0.467,-0.997 -1.518,-3.187 -1.311,-4.905 0.061,-0.504 0.183,-1.007 0.363,-1.498 0.600,-1.633 2.728,-3.636 3.970,-4.874 2.982,-2.974 5.894,-6.022 8.894,-8.978 1.248,-1.230 0.893,-2.557 -0.850,-2.731 -1.306,-0.130 -3.803,-0.140 -5.540,0.092 z"/>
                                    <path fill="none" stroke="white" stroke-width="18.9" stroke-linecap="round" stroke-linejoin="round" d="M 54.921,118.549 115.535,57.935"/>
                                </g>
                            </mask>
                        </defs>
                        <rect width="100%" height="100%" fill="currentColor" mask="url(#wrench-mask)"/>
                    </svg>
                </div>
                <span>MCP Tools</span>
            </div>
            
            <div class="tab-button" onclick="switchTab('console')">
                <div class="tab-icon" style="padding: 1px;">
                    <svg viewBox="0 0 181.541 119.165" xmlns="http://www.w3.org/2000/svg">
                        <g transform="translate(-31.009,-102.577)">
                            <path style="fill:none;stroke:currentColor;stroke-width:11.5;stroke-linecap:round;stroke-linejoin:round" d="M 103.546,137.506 H 40.775 v 75.477 h 62.662 m 0.109,-75.477 h 62.771 v 75.477 h -62.662" transform="translate(18.234,-29.180)"/>
                            <path d="m 103.546,137.507 0.003,48.045 h 2.908 79.706 l -18.004,-47.390 z m 0,0 -64.613,0.655 -18.005,47.390 h 79.706 2.909 z" transform="matrix(1.027,0,0,0.481,15.418,129.675)"/>
                        </g>
                    </svg>
                </div>
                <span>Debug Console</span>
            </div>
        </div>
        
        <div class="wizard-panel">
            <div class="container">
                <div id="wizard-panel" class="tab-panel active">
                    <div class="unified-card">
                    <div class="header">
                        <h1>
                            Bluetext Setup Wizard
                        </h1>
                        <p class="subtitle">This wizard will guide you through setting up Bluetext with Polytope for MCP server integration</p>
                    </div>
                    <div>
                        <div class="quick-start-header-section">
                            <div class="quick-start-text">
                                <h2 class="quick-start-title">Quick Start</h2>
                                <p class="quick-start-subtitle">Runs the steps below</p>
                            </div>
                            <button class="quick-start-btn" onclick="startQuickSetup()">
                                <svg width="12" height="13" viewBox="0 0 71.884262 76.735161" style="margin-right: 6px; flex-shrink: 0;">
                                    <path style="fill:none;stroke:#ffffff;stroke-width:8;stroke-linecap:square;stroke-linejoin:miter" d="m 12.259,2 c -4.05249,0.15214 -7.259192,3.48167 -7.258988,7.53701 v 25.65631 0.39946 25.65632 c -1.58e-4,5.79375 6.261243,9.42401 11.289233,6.54533 l 45.286075,-23.39342 a 10.1794,10.1794 89.96398 0 0 -0.0114,-18.09387 L 16.28924,2.99196 c -1.224231,-0.70098 -2.620523,-1.04455 -4.030245,-0.99167 z" />
                                </svg>
                                Run Quick Start
                            </button>
                        </div>
                        <div class="agent-card">
                            <h3>Select Agent</h3>
                            <div class="agent-selection">
                                <label><input type="radio" name="agent" value="cline" checked> Cline</label>
                                <label><input type="radio" name="agent" value="claude"> Claude Code</label>
                                <label><input type="radio" name="agent" value="copilot"> Copilot</label>
                            </div>
                        </div>
                        <div class="agent-warning" id="agent-warning">
                            <strong>⚠️ Agent selection changed!</strong> To apply the new configuration, click the "Configure Agent" button (Step 3) or re-run Quick Start.
                        </div>
                        <div class="steps-container" id="steps-container">
                            <div class="step" data-step="1">
                                <div class="step-number-wrapper"><span class="step-number pending" id="step-1">1</span></div>
                                <div class="step-content">
                                    <span class="step-text" id="step-1-title" data-original="Initialize git repository in your project" data-completed="Git repository initialized">Initialize git repository in your project</span>
                                    <div class="step-actions"><button id="step-1-button" data-original="Initialize" data-completed="✓ Done" onclick="runCommand('initGit')">Initialize</button></div>
                                </div>
                            </div>
                            <div class="step" data-step="2">
                                <div class="step-number-wrapper"><span class="step-number pending" id="step-2">2</span></div>
                                <div class="step-content">
                                    <span class="step-text" id="step-2-title" data-original="Create polytope.yml configuration file" data-completed="polytope.yml created successfully">Create polytope.yml configuration file</span>
                                    <div class="step-actions"><button id="step-2-button" data-original="Create File" data-completed="✓ Done" onclick="runCommand('createPolytopeYml')">Create File</button></div>
                                </div>
                            </div>
                            <div class="step" data-step="3">
                                <div class="step-number-wrapper"><span class="step-number pending" id="step-3">3</span></div>
                                <div class="step-content">
                                    <span class="step-text" id="step-3-title" data-original="Configure Agent" data-completed="Agent configured successfully">Configure Agent</span>
                                    <div class="step-actions"><button id="step-3-button" data-original-cline="Cline" data-original-claude="Claude" data-original-copilot="Copilot" data-completed-cline="✓ Cline" data-completed-claude="✓ Claude" data-completed-copilot="✓ Copilot" onclick="configureAgent()">Cline</button></div>
                                </div>
                            </div>
                            <div class="step" data-step="4">
                                <div class="step-number-wrapper"><span class="step-number pending" id="step-4">4</span></div>
                                <div class="step-content">
                                    <span class="step-text" id="step-4-title" data-original="Start MCP server on localhost:31338" data-completed="MCP server started successfully">Start MCP server on localhost:31338</span>
                                    <div class="step-actions"><button id="step-4-button" data-original="Start Server" data-completed="✓ Running" onclick="runCommand('startMCP')">Start Server</button></div>
                                </div>
                            </div>
                        </div>
                        <div class="docs-section">
                            <h2>Documentation</h2>
                            <ul>
                                <li><a href="https://docs.bluetext.io/what-is-bluetext">Bluetext Documentation</a></li>
                                <li><a href="https://polytope.dev/docs">Polytope Documentation</a></li>
                                <li><a href="https://github.com/bluetext-io/bluetext">Bluetext Repository</a></li>
                            </ul>
                        </div>
                    </div>
                    </div>
                </div>
                
                <div id="tools-panel" class="tab-panel">
                    <div class="unified-card" id="tools-card">
                        <div class="header">
                            <h1>Bluetext Tools</h1>
                            <p class="subtitle">Available MCP tools from your Bluetext server</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                            <div style="background: var(--vscode-button-background); color: var(--vscode-button-foreground); width: 32px; height: 32px; border-radius: 6px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                <svg viewBox="0 0 107.688 109.773" style="width: 20px; height: 20px;" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-45.471,-18.226)"><path style="fill:currentColor" d="m 125.866,18.410 c -10.741,1.436 -19.373,10.067 -20.810,20.808 -0.232,1.737 -0.232,4.595 0,6.331 1.437,10.741 10.068,19.373 20.810,20.810 1.737,0.232 4.595,0.232 6.331,0 10.927,-1.462 19.669,-10.369 20.876,-21.369 0.157,-1.433 0.105,-3.783 -0.194,-5.191 -0.274,-1.292 -2.066,-0.911 -3.771,0.793 l -8.082,8.076 c -0.979,0.979 -2.565,2.622 -3.808,3.216 -0.681,0.325 -1.396,0.535 -2.112,0.620 -1.719,0.206 -4.385,-1.075 -5.972,-1.821 -0.999,-0.470 -3.141,-1.429 -4.468,-2.567 -0.456,-0.391 -0.880,-0.816 -1.270,-1.273 -1.135,-1.329 -2.314,-3.950 -3.057,-5.539 -0.467,-0.997 -1.518,-3.187 -1.311,-4.905 0.061,-0.504 0.183,-1.007 0.363,-1.498 0.600,-1.633 2.728,-3.636 3.970,-4.874 2.982,-2.974 5.894,-6.022 8.894,-8.978 1.248,-1.230 0.893,-2.557 -0.850,-2.731 -1.306,-0.130 -3.803,-0.140 -5.540,0.092 z"/></g><g transform="translate(-45.471,-18.226)"><path style="fill:none;stroke:currentColor;stroke-width:18.9;stroke-linecap:round;stroke-linejoin:round" d="M 54.921,118.549 115.535,57.935"/></g></svg>
                            </div>
                            <button onclick="refreshTools()" style="padding: 8px 16px; display: flex; align-items: center; gap: 6px;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink: 0;">
                                    <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                                </svg>
                                Refresh
                            </button>
                        </div>
                        <div id="tools-loading" style="text-align: center; padding: 20px; color: #6c757d;"><p>Loading tools...</p></div>
                        <div id="tools-error" style="display: none; background: #fff3cd; border: 1px solid #ffc107; border-radius: 4px; padding: 16px; margin-bottom: 15px; color: #856404;">
                            <strong>⚠️ Could not connect to MCP server</strong>
                            <p style="margin: 8px 0 0 0;">Make sure the MCP server is running (Step 4). Click "Refresh" to try again.</p>
                        </div>
                        <div id="tools-list" style="display: none;"></div>
                        <div id="tools-empty" style="display: none; text-align: center; padding: 20px; color: #6c757d;"><p>No tools available yet. Complete the quick start to see available tools.</p></div>
                    </div>
                </div>
                
                <div id="console-panel" class="tab-panel">
                    <div class="unified-card" id="console-card">
                        <div class="header">
                            <h1>
                                Debug Console
                            </h1>
                            <p class="subtitle">Server communication logs</p>
                        </div>
                        <div id="console-output" style="background: #1e1e1e; color: #d4d4d4; padding: 16px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; max-height: 400px; overflow-y: auto; line-height: 1.6;">
                            <div style="color: #6c757d; font-style: italic;">Console output will appear here...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Parameter Input Modal -->
    <div id="param-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-tool-name">Tool Parameters</h2>
                <button class="modal-close" onclick="closeParamModal()">&times;</button>
            </div>
            <div id="modal-body">
                <!-- Parameters will be dynamically inserted here -->
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeParamModal()">Cancel</button>
                <button onclick="submitToolExecution()">Run Tool</button>
            </div>
        </div>
    </div>
    
    <script>
        function switchTab(tabName) {
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });

            document.getElementById(tabName + '-panel').classList.add('active');
            
            event.currentTarget.classList.add('active');
        }
    </script>
    <script src="wizard.js"></script>
</body>
</html>
